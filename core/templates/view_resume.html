{% extends "base.html" %}

{% block title %}View Resume{% endblock %}

{% block content %}
<div class="container main">
  <div class="glass-card" style="padding: 2rem; max-width: 900px; margin: auto;">
    {% if resume and resume.content %}
      <!-- Displayed resume content -->
      <div id="resume-content-view" style="
          min-height: 500px;
          background: var(--bg-card);
          color: var(--text-main);
          padding: 1.5rem;
          border-radius: 1rem;
          overflow-x: auto;
          font-family: inherit;
          line-height: 1.7;
      ">
        {{ resume.content|safe }}
      </div>

      <!-- Buttons -->
      <div class="btn-container" style="margin-top: 2rem; display: flex; justify-content: center; gap: 1rem; flex-wrap: wrap;">
        <a href="{% url 'download_resume' %}" class="glow-btn">⬇ Download Resume</a>
        <a href="{% url 'build_resume' %}" class="glow-btn">✏ Edit Resume</a>
      </div>
    {% else %}
      <div class="no-resume" style="text-align:center; font-size:1.2rem; color: var(--text-muted); margin: 3rem 0;">
        You have not created a resume yet.
      </div>
      <div class="btn-container" style="display: flex; justify-content: center; gap: 1rem; flex-wrap: wrap;">
        <a href="{% url 'build_resume' %}" class="glow-btn">➕ Create Resume</a>
      </div>
    {% endif %}
  </div>
</div>

<!-- Optional: Some extra styling for headers and lists to match editor -->
<style>
#resume-content-view h1, 
#resume-content-view h2, 
#resume-content-view h3, 
#resume-content-view h4, 
#resume-content-view h5, 
#resume-content-view h6 {
    color: var(--text-accent);
    margin-top: 1.5em;
    margin-bottom: 0.5em;
    font-weight: 600;
}

#resume-content-view p, 
#resume-content-view li {
    margin-bottom: 0.8em;
}

#resume-content-view ul, 
#resume-content-view ol {
    padding-left: 1.5rem;
}

#resume-content-view blockquote {
    border-left: 3px solid var(--text-accent);
    padding-left: 1rem;
    color: var(--text-main);
    margin-left: 0;
    margin-right: 0;
    font-style: italic;
}

#resume-content-view code {
    background-color: rgba(0,0,0,0.05);
    padding: 0.2rem 0.4rem;
    border-radius: 4px;
    font-family: monospace;
}
</style>
{% endblock %}
