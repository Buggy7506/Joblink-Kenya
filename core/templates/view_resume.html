{% extends "base.html" %}

{% block title %}View Resume{% endblock %}

{% block content %}
<div class="container main">
  <div class="glass-card" style="padding: 2rem; max-width: 900px; margin: auto;">
    {% if resume and resume.content %}
      <!-- Displayed resume content -->
      <div id="resume-content-view" style="
          min-height: 500px;
          background: var(--bg-card);
          color: var(--text-main);
          padding: 1.5rem;
          border-radius: 1rem;
          overflow-x: auto;
          font-family: inherit;
          line-height: 1.7;
      ">
        {{ resume.content|safe }}
      </div>

      <!-- Buttons -->
      <div class="btn-container" style="margin-top: 2rem; display: flex; justify-content: center; gap: 1rem; flex-wrap: wrap;">
        <a href="{% url 'download_resume' %}" class="glow-btn">⬇ Download Resume</a>
        <a href="{% url 'build_resume' %}" class="glow-btn">✏ Edit Resume</a>
      </div>
    {% else %}
      <div class="no-resume" style="text-align:center; font-size:1.2rem; color: var(--text-muted); margin: 3rem 0;">
        You have not created a resume yet.
      </div>
      <div class="btn-container" style="display: flex; justify-content: center; gap: 1rem; flex-wrap: wrap;">
        <a href="{% url 'build_resume' %}" class="glow-btn">➕ Create Resume</a>
      </div>
    {% endif %}
  </div>
</div>

<!-- Resume styling to match editor exactly -->
<style>
/* Headings */
#resume-content-view h1,
#resume-content-view h2,
#resume-content-view h3,
#resume-content-view h4,
#resume-content-view h5,
#resume-content-view h6 {
    color: var(--text-accent);
    font-weight: 600;
    margin-top: 1.5em;
    margin-bottom: 0.5em;
}

/* Paragraphs, lists, alignment */
#resume-content-view p,
#resume-content-view li {
    margin-bottom: 0.8em;
}

#resume-content-view ul,
#resume-content-view ol {
    padding-left: 1.5rem;
}

/* Centered text and other alignment */
#resume-content-view [style*="text-align"] {
    text-align: inherit !important;
}
#resume-content-view p[style*="text-align:center"],
#resume-content-view h1[style*="text-align:center"],
#resume-content-view h2[style*="text-align:center"],
#resume-content-view h3[style*="text-align:center"] {
    text-align: center !important;
}

/* Blockquotes */
#resume-content-view blockquote {
    border-left: 3px solid var(--text-accent);
    padding-left: 1rem;
    color: var(--text-main);
    margin-left: 0;
    margin-right: 0;
    font-style: italic;
}

/* Inline code */
#resume-content-view code {
    background-color: rgba(0,0,0,0.05);
    padding: 0.2rem 0.4rem;
    border-radius: 4px;
    font-family: monospace;
}

/* Images & videos */
#resume-content-view img,
#resume-content-view video {
    max-width: 100%;
    display: block;
    margin: 0.8rem auto;
}

/* Links */
#resume-content-view a {
    color: var(--text-accent);
    text-decoration: underline;
}

/* Glow Buttons */
.glow-btn {
    padding: 0.7rem 1.5rem;
    border-radius: 30px;
    font-weight: bold;
    text-decoration: none;
    color: var(--text-main);
    background: linear-gradient(90deg, var(--glow-accent), var(--text-accent));
    box-shadow: 0 0 10px var(--glow-accent), 0 0 20px var(--text-accent);
    transition: all 0.3s ease;
    display: inline-block;
    text-align: center;
}

.glow-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 0 20px var(--glow-accent), 0 0 30px var(--text-accent) inset;
}

/* No resume message */
.no-resume {
    font-size: 1.2rem;
    color: var(--text-muted);
    text-align: center;
    margin: 3rem 0;
}

/* Container animation */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(15px); }
    to { opacity: 1; transform: translateY(0); }
}
</style>
{% endblock %}
