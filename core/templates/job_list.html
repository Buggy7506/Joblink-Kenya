{% extends 'base.html' %}

{% block title %}Availabe Jobs â€¢ JobLink Kenya{% endblock %}

{% block content %}
<style>
/* Page base */
body {
  background: var(--bg-main);
  font-family: Arial, sans-serif;
  color: var(--text-main);
}

/* Layout */
.container {
  margin-top: 40px;
  padding: 20px;
}

/* Section titles */
h2 {
  font-size: 24px;
  margin-bottom: 16px;
  color: var(--accent);
  border-bottom: 2px solid var(--accent);
  padding-bottom: 6px;
}

/* Job cards */
.premium-job,
.normal-job {
  padding: 20px;
  border-radius: 14px;
  margin-bottom: 20px;
  box-shadow: 0 5px 20px rgba(0,0,0,0.2);
  border-left: 5px solid;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

/* Premium */
.premium-job {
  background: linear-gradient(135deg, #6a00ff, #4b0082);
  border-color: gold;
  box-shadow: 0 0 25px rgba(255,215,0,0.35);
}

/* Normal */
.normal-job {
  background: var(--bg-card);
  border-color: var(--accent);
}

/* Hover */
.premium-job:hover,
.normal-job:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 35px var(--accent-glow);
}

/* Titles */
.job-title {
  font-size: 20px;
  font-weight: bold;
  margin-bottom: 6px;
  color: gold;
}

.normal-job .job-title {
  color: var(--accent);
}

/* Meta */
.job-meta {
  font-size: 14px;
  margin: 3px 0;
  color: var(--text-muted);
}

/* Apply link */
.apply-link {
  display: inline-block;
  margin-top: 10px;
  color: var(--accent);
  text-decoration: none;
  border-bottom: 1px dashed var(--accent);
  transition: all 0.3s ease;
}

.apply-link:hover {
  color: var(--text-main);
  border-color: var(--text-main);
}

/* Premium badge */
.premium-badge {
  background: gold;
  color: #000;
  font-size: 11px;
  padding: 4px 10px;
  border-radius: 20px;
  margin-left: 10px;
  font-weight: bold;
}

/* Empty state */
.no-jobs {
  color: var(--text-muted);
  font-style: italic;
}

/* Messages */
.messages {
  margin-bottom: 20px;
  text-align: center;
}

.message-text {
  display: inline-block;
  padding: 12px 22px;
  border-radius: 25px;
  font-weight: bold;
  color: #fff;
  font-size: 1rem;
  transition: opacity 1s ease, transform 0.3s ease;
  box-shadow: 0 0 15px var(--accent-glow);
  margin-bottom: 10px;
}

.message-text.success {
  background: linear-gradient(90deg, var(--success), #00cc66);
}

.message-text.error {
  background: linear-gradient(90deg, var(--error), #ff2a39);
}
</style>

<div class="container">

  <!-- Messages -->
  {% if messages %}
    <div class="messages">
      {% for message in messages %}
        <p class="message-text {% if message.tags %}{{ message.tags }}{% endif %}">{{ message }}</p>
      {% endfor %}
    </div>
  {% endif %}

  <h2>ðŸŒŸ Featured Jobs</h2>
  {% for job in premium_jobs %}
    <div class="premium-job">
      <div class="job-title">{{ job.title }} <span class="premium-badge">Premium</span></div>
      <p class="job-meta">Company: {{ job.company }}</p>
      <p class="job-meta">Location: {{ job.location }}</p>
      <a href="{% url 'apply_job' job.id %}" class="apply-link">Apply Now</a>
    </div>
  {% empty %}
    <p class="no-jobs">No premium jobs at the moment.</p>
  {% endfor %}

  <h2>ðŸ’¼ Free Jobs</h2>
  {% for job in jobs %}
    <div class="normal-job">
      <div class="job-title">{{ job.title }}</div>
      <p class="job-meta">Company: {{ job.company }}</p>
      <p class="job-meta">Location: {{ job.location }}</p>
      <a href="{% url 'apply_job' job.id %}" class="apply-link">Apply Now</a>
    </div>
  {% empty %}
    <p class="no-jobs">No jobs found at the moment.</p>
  {% endfor %}
</div>

<script>
  // Auto-fade messages
  setTimeout(function() {
    const messages = document.querySelectorAll('.message-text');
    messages.forEach(msg => {
      msg.style.opacity = '0';
      msg.style.transform = 'translateY(-10px)';
      setTimeout(() => msg.remove(), 1000);
    });
  }, 4000);
</script>

{% endblock %}
